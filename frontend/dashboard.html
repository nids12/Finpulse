<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>FinPulse Dashboard</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
  </head>
  <body>
    <div class="topbar">
      <div class="topbar-content">
        <span id="user-greeting">Welcome, <span id="username">User</span></span>
        <div style="display: flex; align-items: center; gap: 1.5em">
          <span
            id="balance-display"
            style="font-size: 1.1rem; color: #1bc47d; font-weight: 600"
            >Balance: â‚¹0</span
          >
          <button
            id="deposit-btn"
            style="
              background: #007bff;
              color: #fff;
              border: none;
              border-radius: 6px;
              padding: 7px 14px;
              font-size: 1rem;
              font-weight: 600;
              cursor: pointer;
              margin-right: 6px;
            "
          >
            Add Money
          </button>
          <button
            id="withdraw-btn"
            style="
              background: #ffb300;
              color: #fff;
              border: none;
              border-radius: 6px;
              padding: 7px 14px;
              font-size: 1rem;
              font-weight: 600;
              cursor: pointer;
            "
          >
            Withdraw
          </button>
          <button id="logout-btn">Logout</button>
        </div>
      </div>
    </div>
    <div
      id="account-transactions-section"
      class="container"
      style="max-width: 900px; margin: 24px auto 0 auto"
    >
      <h3 style="margin-bottom: 10px">Account Transaction History</h3>
      <table
        id="account-transactions-table"
        style="
          width: 100%;
          margin-bottom: 1em;
          background: #f9fafd;
          border-radius: 10px;
          overflow: hidden;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        "
      >
        <thead>
          <tr>
            <th>Date</th>
            <th>Type</th>
            <th>Amount</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    <div class="dark-toggle-container">
      <label class="switch">
        <input type="checkbox" id="darkToggle" />
        <span class="slider"></span>
      </label>
      <span class="toggle-label">Dark Mode</span>
    </div>
    <h1>ðŸ“Š FinPulse Dashboard</h1>
    <!-- Search Box -->
    <div class="search-bar-container">
      <input
        type="text"
        id="symbolInput"
        class="search-bar"
        placeholder="Enter Stock Symbol (e.g., NFLX)"
      />
    </div>
    <!-- Watchlist Section -->
    <div
      id="watchlist-section"
      style="max-width: 900px; margin: 2em auto 1em auto"
    >
      <div
        style="
          display: flex;
          align-items: center;
          gap: 1em;
          margin-bottom: 0.5em;
        "
      >
        <select
          id="watchlist-select"
          style="
            font-size: 1em;
            padding: 0.3em 1em;
            border-radius: 6px;
            border: 1px solid #ccc;
          "
        ></select>
        <button
          id="create-watchlist-btn"
          style="
            background: #007bff;
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 6px 16px;
            font-size: 1em;
            cursor: pointer;
          "
        >
          + Create New Watchlist
        </button>
      </div>
      <h2 id="watchlist-title" style="font-size: 1.2em; margin-bottom: 0.5em">
        Your Watchlist
      </h2>
      <div
        id="watchlist-cards"
        style="display: flex; flex-wrap: wrap; gap: 1em"
      ></div>
    </div>
    <div id="cards"></div>
    <canvas id="stockChart" width="800" height="400"></canvas>
    <div
      id="portfolioChartWrapper"
      style="max-width: 900px; margin: 0 auto 2em auto"
    >
      <canvas id="portfolioValueChart" width="800" height="300"></canvas>
    </div>

    <!-- Portfolio Section -->
    <div id="portfolio-section" class="container" style="margin-top: 2em">
      <h2>Your Portfolio</h2>
      <table id="portfolio-table" style="width: 100%; margin-bottom: 1em">
        <thead>
          <tr>
            <th>Symbol</th>
            <th>Quantity</th>
            <th>Avg. Price</th>
            <th>Sell</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <h3>Transaction History</h3>
      <table id="transactions-table" style="width: 100%">
        <thead>
          <tr>
            <th>Date</th>
            <th>Type</th>
            <th>Symbol</th>
            <th>Qty</th>
            <th>Price</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    <!-- Loader and Toast containers will be injected by JS -->
    <script src="app.js"></script>
  </body>
</html>
